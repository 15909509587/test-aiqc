<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ä¸šè§†è§‰å¤§æ¨¡å‹æ™ºèƒ½å¹³å° - åŸå‹å±•ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .grid-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .page-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .page-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .page-header {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 1.5rem;
            position: relative;
        }

        .page-header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #10b981, #3b82f6, #8b5cf6);
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .page-subtitle {
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .page-content {
            padding: 1.5rem;
            height: auto;
            overflow-y: auto;
        }

        /* Task Creation Page Styles */
        .task-creation-layout {
            display: grid;
            grid-template-columns: 1fr 1fr 200px;
            gap: 1rem;
            height: 100%;
        }

        .chat-area {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            background-color: #f8fafc;
            height: 300px;
            overflow-y: auto;
        }

        .chat-message {
            display: flex;
            margin-bottom: 0.75rem;
        }

        .chat-message.user {
            justify-content: flex-end;
        }

        .message-bubble {
            max-width: 80%;
            padding: 0.75rem;
            border-radius: 12px;
            font-size: 0.875rem;
        }

        .message-bubble.user {
            background-color: #3b82f6;
            color: white;
        }

        .message-bubble.system {
            background-color: white;
            border: 1px solid #e2e8f0;
            color: #1e293b;
        }

        .image-upload-area {
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            color: #64748b;
            cursor: pointer;
            transition: border-color 0.3s ease;
            height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .image-upload-area:hover {
            border-color: #3b82f6;
        }

        .template-card {
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .template-card:hover {
            background-color: #f1f5f9;
            border-color: #3b82f6;
        }

        .template-card h4 {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .template-card p {
            font-size: 0.75rem;
            color: #64748b;
        }

        /* Code Generation Page Styles */
        .code-generation-layout {
            display: grid;
            grid-template-columns: 200px 1fr 150px;
            gap: 1rem;
            height: 100%;
        }

        .algorithm-library {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            overflow-y: auto;
        }

        .algorithm-category {
            margin-bottom: 1rem;
        }

        .algorithm-category h4 {
            font-size: 0.875rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .algorithm-item {
            font-size: 0.75rem;
            color: #64748b;
            padding: 0.25rem 0;
            cursor: pointer;
        }

        .algorithm-item:hover {
            color: #3b82f6;
        }

        .code-editor-area {
            display: flex;
            flex-direction: column;
        }

        .tab-buttons {
            display: flex;
            margin-bottom: 1rem;
        }

        .tab-button {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            background-color: #f8fafc;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }

        .tab-button.active {
            background-color: white;
            color: #3b82f6;
            border-bottom-color: white;
        }

        .tab-button:first-child {
            border-top-left-radius: 6px;
        }

        .tab-button:last-child {
            border-top-right-radius: 6px;
        }

        .flowchart-area {
            flex: 1;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 1rem;
            background-color: #f8fafc;
            position: relative;
            overflow: hidden;
        }

        .flowchart-node {
            position: absolute;
            background-color: #3b82f6;
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.75rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .flowchart-arrow {
            position: absolute;
            height: 2px;
            background-color: #3b82f6;
        }

        .flowchart-arrow::after {
            content: "â–¶";
            position: absolute;
            right: -8px;
            top: -7px;
            color: #3b82f6;
            font-size: 0.75rem;
        }

        .code-editor {
            flex: 1;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 1rem;
            font-family: "Courier New", monospace;
            font-size: 0.75rem;
            background-color: #f8fafc;
            white-space: pre-wrap;
            overflow: auto;
            display: none;
        }

        .code-editor.active {
            display: block;
        }

        .param-panel {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
        }

        .param-item {
            margin-bottom: 1rem;
        }

        .param-item label {
            font-size: 0.75rem;
            color: #374151;
            display: block;
            margin-bottom: 0.25rem;
        }

        .param-slider {
            width: 100%;
            margin-top: 0.25rem;
        }

        /* Validation Page Styles */
        .validation-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
            height: 100%;
        }

        .image-display-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .image-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
        }

        .image-placeholder {
            background-color: #f1f5f9;
            height: 120px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        .stat-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
        }

        .stat-card h4 {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            margin-bottom: 0.25rem;
        }

        .suggestion-card {
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-card:hover {
            background-color: #f8fafc;
        }

        .suggestion-card h5 {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .suggestion-card p {
            font-size: 0.75rem;
            color: #64748b;
        }

        .button {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background-color 0.2s ease;
        }

        .button:hover {
            background-color: #2563eb;
        }

        .button-outline {
            background-color: transparent;
            color: #3b82f6;
            border: 1px solid #3b82f6;
        }

        .button-outline:hover {
            background-color: #3b82f6;
            color: white;
        }

        .input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.875rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background-color: #e0e7ff;
            color: #3730a3;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .icon {
            width: 1.25rem;
            height: 1.25rem;
            display: inline-block;
        }

        .running {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .feedback-stars {
            color: #fbbf24;
            font-size: 1rem;
        }

        .scrollbar-thin {
            scrollbar-width: thin;
            scrollbar-color: #cbd5e1 #f1f5f9;
        }

        .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
        }

        .scrollbar-thin::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ§  å·¥ä¸šè§†è§‰å¤§æ¨¡å‹æ™ºèƒ½å¹³å°</h1>
        <p>å›¾åƒ+è‡ªç„¶è¯­è¨€ â†’ è‡ªåŠ¨ç”Ÿæˆè§†è§‰ç®—å­ç»„åˆ</p>
    </div>

    <div class="container">
        <div class="grid-container">
            <!-- Page 1: Task Creation Page -->
            <div class="page-card">
                <div class="page-header">
                    <div class="page-title">
                        <span class="icon">ğŸ¯</span>
                        æ™ºèƒ½ä»»åŠ¡åˆ›å»ºé¡µ
                    </div>
                    <div class="page-subtitle">é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°æ£€æµ‹éœ€æ±‚ï¼Œé€‰æ‹©é¢„è®¾æ¨¡æ¿ï¼Œä¸Šä¼ å›¾åƒè¿›è¡ŒROIæ ‡æ³¨</div>
                </div>
                <div class="page-content">
                    <div class="task-creation-layout">
                        <!-- ä»»åŠ¡æè¿°åŒº -->
                        <div>
                            <h4 style="margin-bottom: 1rem; font-weight: 600;">ä»»åŠ¡æè¿°åŒº</h4>
                            <div class="chat-area scrollbar-thin">
                                <div class="chat-message">
                                    <div class="message-bubble system">
                                        æ‚¨å¥½ï¼æˆ‘æ˜¯å·¥ä¸šè§†è§‰AIåŠ©æ‰‹ã€‚è¯·æè¿°æ‚¨çš„æ£€æµ‹éœ€æ±‚ï¼Œæˆ‘å°†ä¸ºæ‚¨ç”Ÿæˆç›¸åº”çš„è§†è§‰ç®—å­ç»„åˆã€‚
                                    </div>
                                </div>
                                <div class="chat-message user">
                                    <div class="message-bubble user">
                                        æˆ‘éœ€è¦æ£€æµ‹é‡‘å±è¡¨é¢çš„åˆ’ä¼¤ï¼Œæœ€å°å°ºå¯¸0.2mm
                                    </div>
                                </div>
                                <div class="chat-message">
                                    <div class="message-bubble system">
                                        æˆ‘ç†è§£æ‚¨éœ€è¦æ£€æµ‹åˆ’ä¼¤ç¼ºé™·ã€‚è¯·é—®ï¼š1) æœ€å°æ£€æµ‹å°ºå¯¸æ˜¯å¤šå°‘ï¼Ÿ2) æ˜¯å¦éœ€è¦å¿½ç•¥æŸäº›åŒºåŸŸï¼ˆå¦‚åå…‰åŒºåŸŸï¼‰ï¼Ÿ3) å¯¹æ£€æµ‹ç²¾åº¦æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                                <input type="text" class="input" placeholder="æè¿°æ‚¨çš„æ£€æµ‹éœ€æ±‚..." style="flex: 1;">
                                <button class="button">å‘é€</button>
                            </div>
                            <div style="margin-top: 1rem;">
                                <h5 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem;">å‚æ•°é¢„è®¾</h5>
                                <div style="margin-bottom: 0.5rem;">
                                    <label style="font-size: 0.75rem; color: #64748b;">è¾“å‡ºè¯­è¨€:</label>
                                    <div style="display: flex; gap: 0.5rem; margin-top: 0.25rem;">
                                        <button class="button-outline" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Halcon</button>
                                        <button class="button-outline" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Python</button>
                                        <button class="button-outline" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">C++</button>
                                    </div>
                                </div>
                            </div>
                            <button class="button" style="width: 100%; margin-top: 1rem;">âš¡ ç”Ÿæˆç®—å­ç»„åˆ</button>
                        </div>

                        <!-- å›¾åƒæ“ä½œåŒº -->
                        <div>
                            <h4 style="margin-bottom: 1rem; font-weight: 600;">å›¾åƒæ“ä½œåŒº</h4>
                            <div class="image-upload-area">
                                <span class="icon">ğŸ“</span>
                                <span>ç‚¹å‡»ä¸Šä¼ å›¾åƒæˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</span>
                                <span style="font-size: 0.75rem; color: #94a3b8;">æ”¯æŒ JPGã€PNGã€BMP æ ¼å¼</span>
                            </div>
                            <div style="margin-top: 1rem;">
                                <h5 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem;">ROIæ ‡æ³¨å·¥å…·</h5>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="button-outline" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">çŸ©å½¢é€‰æ‹©</button>
                                    <button class="button-outline" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">å¤šè¾¹å½¢</button>
                                    <button class="button-outline" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">æ¸…é™¤æ ‡æ³¨</button>
                                </div>
                            </div>
                            <div style="margin-top: 1rem;">
                                <h5 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem;">å›¾åƒä¿¡æ¯</h5>
                                <div style="font-size: 0.75rem; color: #64748b;">
                                    <p>åˆ†è¾¨ç‡: 1920Ã—1080</p>
                                    <p>æ ¼å¼: JPEG</p>
                                    <p>å¤§å°: 2.3 MB</p>
                                </div>
                            </div>
                        </div>

                        <!-- æ¨¡æ¿åº“ -->
                        <div>
                            <h4 style="margin-bottom: 1rem; font-weight: 600;">æ¨¡æ¿åº“</h4>
                            <input type="text" class="input" placeholder="æœç´¢æ¨¡æ¿..." style="margin-bottom: 1rem; font-size: 0.75rem;">
                            <div class="scrollbar-thin" style="height: 300px; overflow-y: auto;">
                                <div class="template-card">
                                    <h4>ğŸ¯ é‡‘å±åˆ’ä¼¤æ£€æµ‹</h4>
                                    <p>æ£€æµ‹é‡‘å±è¡¨é¢çš„åˆ’ç—•ã€åˆ®ä¼¤ç­‰ç¼ºé™·</p>
                                    <div style="margin-top: 0.5rem;">
                                        <span class="badge">ç¼ºé™·æ£€æµ‹</span>
                                        <span style="font-size: 0.7rem; color: #64748b; float: right;">â˜…4.8 (1247)</span>
                                    </div>
                                </div>
                                <div class="template-card">
                                    <h4>ğŸ“ å°ºå¯¸æµ‹é‡</h4>
                                    <p>ç²¾ç¡®æµ‹é‡é›¶ä»¶çš„é•¿åº¦ã€å®½åº¦ã€ç›´å¾„ç­‰å°ºå¯¸</p>
                                    <div style="margin-top: 0.5rem;">
                                        <span class="badge">æµ‹é‡åˆ†æ</span>
                                        <span style="font-size: 0.7rem; color: #64748b; float: right;">â˜…4.9 (892)</span>
                                    </div>
                                </div>
                                <div class="template-card">
                                    <h4>ğŸ‘ï¸ è¡¨é¢è´¨é‡æ£€æµ‹</h4>
                                    <p>æ£€æµ‹è¡¨é¢ç²—ç³™åº¦ã€è‰²å·®ã€æ±¡æ¸ç­‰è´¨é‡é—®é¢˜</p>
                                    <div style="margin-top: 0.5rem;">
                                        <span class="badge">è´¨é‡æ£€æµ‹</span>
                                        <span style="font-size: 0.7rem; color: #64748b; float: right;">â˜…4.7 (634)</span>
                                    </div>
                                </div>
                                <div class="template-card">
                                    <h4>ğŸ¯ é›¶ä»¶å®šä½</h4>
                                    <p>ç²¾ç¡®å®šä½é›¶ä»¶ä½ç½®å’Œè§’åº¦</p>
                                    <div style="margin-top: 0.5rem;">
                                        <span class="badge">å®šä½è¯†åˆ«</span>
                                        <span style="font-size: 0.7rem; color: #64748b; float: right;">â˜…4.8 (1156)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page 2: Code Generation Page -->
            <div class="page-card">
                <div class="page-header">
                    <div class="page-title">
                        <span class="icon">âš™ï¸</span>
                        ä»£ç ç”Ÿæˆç»“æœé¡µ
                    </div>
                    <div class="page-subtitle">åŸºäºéœ€æ±‚è‡ªåŠ¨ç”ŸæˆHalcon/OpenCVç®—å­ç»„åˆä»£ç ï¼Œæ”¯æŒæµç¨‹å›¾å’Œä»£ç åŒæ¨¡å¼</div>
                </div>
                <div class="page-content">
                    <div class="code-generation-layout">
                        <!-- ç®—å­åº“ -->
                        <div class="algorithm-library scrollbar-thin">
                            <h4 style="margin-bottom: 1rem; font-weight: 600;">ç®—å­åº“</h4>
                            <input type="text" class="input" placeholder="æœç´¢ç®—å­..." style="margin-bottom: 1rem; font-size: 0.75rem;">
                            
                            <div class="algorithm-category">
                                <h4>å›¾åƒé¢„å¤„ç†</h4>
                                <div class="algorithm-item">ğŸ“ read_image</div>
                                <div class="algorithm-item">ğŸ¨ rgb1_to_gray</div>
                                <div class="algorithm-item">ğŸ”§ median_image</div>
                                <div class="algorithm-item">ğŸŒŠ gauss_filter</div>
                            </div>
                            
                            <div class="algorithm-category">
                                <h4>ç‰¹å¾æå–</h4>
                                <div class="algorithm-item">âœ‚ï¸ threshold</div>
                                <div class="algorithm-item">ğŸ“ edges_sub_pix</div>
                                <div class="algorithm-item">ğŸ”— connection</div>
                                <div class="algorithm-item">ğŸ” select_shape</div>
                            </div>
                            
                            <div class="algorithm-category">
                                <h4>æµ‹é‡åˆ†æ</h4>
                                <div class="algorithm-item">ğŸ“ area_center</div>
                                <div class="algorithm-item">ğŸ“¦ smallest_rectangle2</div>
                                <div class="algorithm-item">ğŸ“ distance_pp</div>
                                <div class="algorithm-item">ğŸ“ angle_lx</div>
                            </div>
                        </div>

                        <!-- ä¸»å·¥ä½œåŒº -->
                        <div class="code-editor-area">
                            <div class="tab-buttons">
                                <div class="tab-button active" onclick="switchTab(\'flowchart\')">ğŸ”„ æµç¨‹å›¾æ¨¡å¼</div>
                                <div class="tab-button" onclick="switchTab(\'code\')">ğŸ’» ä»£ç ç¼–è¾‘æ¨¡å¼</div>
                            </div>
                            
                            <div id="flowchart-view" class="flowchart-area">
                                <!-- æµç¨‹å›¾èŠ‚ç‚¹ -->
                                <div class="flowchart-node" style="left: 20px; top: 50px;">read_image<br><small>è¾“å…¥</small></div>
                                <div class="flowchart-node" style="left: 140px; top: 50px;">rgb1_to_gray<br><small>é¢„å¤„ç†</small></div>
                                <div class="flowchart-node" style="left: 280px; top: 50px;">median_image<br><small>æ»¤æ³¢</small></div>
                                <div class="flowchart-node" style="left: 420px; top: 50px;">threshold<br><small>åˆ†å‰²</small></div>
                                
                                <!-- è¿æ¥ç®­å¤´ -->
                                <div class="flowchart-arrow" style="left: 100px; top: 65px; width: 40px;"></div>
                                <div class="flowchart-arrow" style="left: 240px; top: 65px; width: 40px;"></div>
                                <div class="flowchart-arrow" style="left: 380px; top: 65px; width: 40px;"></div>
                            </div>
                            
                            <div id="code-view" class="code-editor">* å·¥ä¸šè§†è§‰æ£€æµ‹ç®—æ³• - è‡ªåŠ¨ç”Ÿæˆ
* ä»»åŠ¡æè¿°: é‡‘å±è¡¨é¢åˆ’ä¼¤æ£€æµ‹
* ç”Ÿæˆæ—¶é—´: 2025/06/29

* è¯»å–è¾“å…¥å›¾åƒ
read_image (Image, \'input.jpg\')

* è½¬æ¢ä¸ºç°åº¦å›¾åƒ
rgb1_to_gray (Image, GrayImage)

* ä¸­å€¼æ»¤æ³¢å»å™ª
median_image (GrayImage, FilteredImage, \'circle\', 3)

* é˜ˆå€¼åˆ†å‰²
threshold (FilteredImage, Region, 0, 128)

* è¿é€šåŸŸåˆ†æ
connection (Region, ConnectedRegions)

* å½¢çŠ¶ç­›é€‰ - é¢ç§¯è¿‡æ»¤
select_shape (ConnectedRegions, SelectedRegions, \'area\', \'and\', 100, 10000)

* è®¡ç®—ç¼ºé™·ç‰¹å¾
area_center (SelectedRegions, Area, Row, Column)
smallest_rectangle2 (SelectedRegions, Row1, Column1, Row2, Column2, Phi)

* è¾“å‡ºç»“æœ
count_obj (SelectedRegions, Number)
if (Number > 0)
    disp_message (WindowHandle, \'æ£€æµ‹åˆ° \' + Number + \' ä¸ªç¼ºé™·\', \'window\', 12, 12, \'black\', \'true\')
else
    disp_message (WindowHandle, \'äº§å“åˆæ ¼\', \'window\', 12, 12, \'green\', \'true\')
endif</div>
                            
                            <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                                <button class="button">â–¶ï¸ è¿è¡ŒéªŒè¯</button>
                                <button class="button-outline">ğŸ’¾ å¯¼å‡ºå·¥ç¨‹</button>
                            </div>
                        </div>

                        <!-- å‚æ•°é¢æ¿ -->
                        <div class="param-panel">
                            <h4 style="margin-bottom: 1rem; font-weight: 600;">å‚æ•°é¢æ¿</h4>
                            
                            <div class="param-item">
                                <label>ç½®ä¿¡åº¦é˜ˆå€¼:</label>
                                <input type="range" min="0" max="100" value="80" class="param-slider">
                                <div style="text-align: center; font-size: 0.75rem; color: #64748b;">80%</div>
                            </div>
                            
                            <div class="param-item">
                                <label>æ£€æµ‹çµæ•åº¦:</label>
                                <input type="range" min="1" max="10" value="5" class="param-slider">
                                <div style="text-align: center; font-size: 0.75rem; color: #64748b;">ä¸­ç­‰</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page 3: Validation Page -->
            <div class="page-card">
                <div class="page-header">
                    <div class="page-title">
                        <span class="icon">ğŸ§ª</span>
                        å®æ—¶éªŒè¯æ²™ç›’é¡µ
                    </div>
                    <div class="page-subtitle">æä¾›éªŒè¯ç¯å¢ƒå’Œæ™ºèƒ½ä¼˜åŒ–å»ºè®®ï¼Œæ”¯æŒå¤šè½®å¯¹è¯è°ƒä¼˜</div>
                </div>
                <div class="page-content">
                    <div class="validation-layout">
                        <!-- å›¾åƒéªŒè¯åŒº -->
                        <div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <h4 style="font-weight: 600;">å®æ—¶éªŒè¯æ²™ç›’</h4>
                                <div style="display: flex; gap: 0.5rem;">
                                    <span class="badge">ç‰ˆæœ¬ 1.0</span>
                                    <button class="button" id="run-btn" onclick="runValidation()">â–¶ï¸ è¿è¡ŒéªŒè¯</button>
                                </div>
                            </div>
                            
                            <div class="image-display-grid">
                                <div class="image-card">
                                    <h5 style="font-weight: 600; margin-bottom: 0.5rem;">åŸå§‹å›¾åƒ</h5>
                                    <div class="image-placeholder">
                                        ğŸ“· åŸå§‹å›¾åƒé¢„è§ˆ<br>
                                        <small>1920Ã—1080</small>
                                    </div>
                                </div>
                                <div class="image-card">
                                    <h5 style="font-weight: 600; margin-bottom: 0.5rem;">æ£€æµ‹ç»“æœ</h5>
                                    <div class="image-placeholder" id="result-display">
                                        ğŸ” æ£€æµ‹ç»“æœé¢„è§ˆ<br>
                                        <small>ç­‰å¾…è¿è¡Œ</small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <h4>æ€§èƒ½ç»Ÿè®¡</h4>
                                    <div class="stat-item"><span>å¤„ç†æ—¶é—´:</span><span id="processing-time">-</span></div>
                                    <div class="stat-item"><span>å†…å­˜ä½¿ç”¨:</span><span id="memory-usage">-</span></div>
                                    <div class="stat-item"><span>å‡†ç¡®ç‡:</span><span id="accuracy" style="color: #10b981;">-</span></div>
                                </div>
                                <div class="stat-card">
                                    <h4>æ£€æµ‹è¯¦æƒ…</h4>
                                    <div style="font-size: 0.75rem; color: #64748b;" id="detection-details">
                                        ç‚¹å‡»æ£€æµ‹åŒºåŸŸæŸ¥çœ‹è¯¦æƒ…
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <h4>ç»“æœåé¦ˆ</h4>
                                    <div class="feedback-stars" style="margin-bottom: 0.5rem;">
                                        â˜…â˜…â˜…â˜…â˜†
                                    </div>
                                    <div style="font-size: 0.75rem;">
                                        <label><input type="checkbox"> è¯¯æ£€</label><br>
                                        <label><input type="checkbox"> æ¼æ£€</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å¯¹è¯è°ƒä¼˜é¢æ¿ -->
                        <div>
                            <h4 style="margin-bottom: 1rem; font-weight: 600;">æ™ºèƒ½è°ƒä¼˜</h4>
                            
                            <div class="chat-area scrollbar-thin" style="height: 200px; margin-bottom: 1rem;">
                                <div class="chat-message">
                                    <div class="message-bubble system">
                                        éªŒè¯ç¯å¢ƒå·²å‡†å¤‡å°±ç»ªã€‚ç‚¹å‡»"è¿è¡ŒéªŒè¯"å¼€å§‹æµ‹è¯•ç®—æ³•æ•ˆæœã€‚
                                    </div>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 1rem;">
                                <h5 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem;">æ™ºèƒ½å»ºè®®</h5>
                                <div class="suggestion-card" onclick="applySuggestion(\'æé«˜çµæ•åº¦\')">
                                    <h5>ğŸ“ˆ æé«˜çµæ•åº¦</h5>
                                    <p>é™ä½é˜ˆå€¼ä»¥æ£€æµ‹æ›´å°çš„ç¼ºé™·</p>
                                </div>
                                <div class="suggestion-card" onclick="applySuggestion(\'é™ä½è¯¯æŠ¥ç‡\')">
                                    <h5>ğŸ“‰ é™ä½è¯¯æŠ¥ç‡</h5>
                                    <p>å¢åŠ å½¢æ€å­¦æ»¤æ³¢å‡å°‘å™ªå£°</p>
                                </div>
                                <div class="suggestion-card" onclick="applySuggestion(\'ä¼˜åŒ–å…‰ç…§å¤„ç†\')">
                                    <h5>âš¡ ä¼˜åŒ–å…‰ç…§å¤„ç†</h5>
                                    <p>æ·»åŠ åŒæ€æ»¤æ³¢å¤„ç†ä¸å‡åŒ€å…‰ç…§</p>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="text" class="input" placeholder="æè¿°ä¼˜åŒ–éœ€æ±‚..." style="flex: 1; font-size: 0.75rem;">
                                <button class="button" style="padding: 0.5rem;">å‘é€</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabName) {
            const flowchartView = document.getElementById(\'flowchart-view\');
            const codeView = document.getElementById(\'code-view\');
            const tabButtons = document.querySelectorAll(\'.tab-button\');
            
            tabButtons.forEach(btn => btn.classList.remove(\'active\'));
            
            if (tabName === \'flowchart\') {
                flowchartView.style.display = \'block\';
                codeView.style.display = \'none\';
                tabButtons[0].classList.add(\'active\');
            } else {
                flowchartView.style.display = \'none\';
                codeView.style.display = \'block\';
                tabButtons[1].classList.add(\'active\');
            }
        }

        function runValidation() {
            const runBtn = document.getElementById(\'run-btn\');
            const resultDisplay = document.getElementById(\'result-display\');
            const processingTime = document.getElementById(\'processing-time\');
            const memoryUsage = document.getElementById(\'memory-usage\');
            const accuracy = document.getElementById(\'accuracy\');
            const detectionDetails = document.getElementById(\'detection-details\');
            
            runBtn.textContent = \'â³ è¿è¡Œä¸­...\';
            runBtn.classList.add(\'running\');
            runBtn.disabled = true;
            
            resultDisplay.innerHTML = \'ğŸ”„ æ­£åœ¨å¤„ç†...<br><small>è¯·ç¨å€™</small>\';
            
            setTimeout(() => {
                runBtn.textContent = \'â–¶ï¸ è¿è¡ŒéªŒè¯\';
                runBtn.classList.remove(\'running\');
                runBtn.disabled = false;
                
                resultDisplay.innerHTML = \'âœ… æ£€æµ‹åˆ°3ä¸ªç¼ºé™·<br><small>ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</small>\';
                processingTime.textContent = \'120ms\';
                memoryUsage.textContent = \'45MB\';
                accuracy.textContent = \'94.2%\';
                detectionDetails.innerHTML = \'å‘ç°3ä¸ªåˆ’ä¼¤ç¼ºé™·<br>å¹³å‡ç½®ä¿¡åº¦: 91.3%\';
                
                // æ·»åŠ ç³»ç»Ÿæ¶ˆæ¯åˆ°èŠå¤©åŒº
                const chatArea = document.querySelector(\'.validation-layout .chat-area\');
                const newMessage = document.createElement(\'div\');
                newMessage.className = \'chat-message\';
                newMessage.innerHTML = `\n                    <div class="message-bubble system">\n                        æ£€æµ‹å®Œæˆï¼å‘ç°3ä¸ªç¼ºé™·åŒºåŸŸã€‚å¤„ç†æ—¶é—´120msï¼Œå‡†ç¡®ç‡94.2%ã€‚æ‚¨å¯ä»¥æ¡†é€‰åŒºåŸŸè¿›è¡Œè°ƒä¼˜ã€‚\n                    </div>\n                `;
                chatArea.appendChild(newMessage);
                chatArea.scrollTop = chatArea.scrollHeight;
            }, 3000);
        }

        function applySuggestion(suggestionTitle) {
            const chatArea = document.querySelector(\'.validation-layout .chat-area\');
            const newMessage = document.createElement(\'div\');
            newMessage.className = \'chat-message\';
            newMessage.innerHTML = `\n                <div class="message-bubble system">\n                    å·²åº”ç”¨"${suggestionTitle}"ä¼˜åŒ–ï¼Œæ­£åœ¨é‡æ–°éªŒè¯...\n                </div>\n            `;
            chatArea.appendChild(newMessage);
            chatArea.scrollTop = chatArea.scrollHeight;
            
            setTimeout(() => {
                runValidation();
            }, 1000);
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener(\'DOMContentLoaded\', function() {
            console.log(\'å·¥ä¸šè§†è§‰å¤§æ¨¡å‹æ™ºèƒ½å¹³å°åŸå‹å·²åŠ è½½\');
        });
    </script>
</body>
</html>

